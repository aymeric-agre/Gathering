/*! angular-gantt 15-12-2014 */
use strict;

!function(){"use strict";angular.module("gantt.drawtask",["gantt"]).directive("ganttDrawTask",["ganttMouseOffset","moment",function(a,b){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",taskModelFactory:"=taskFactory"},link:function(c,d,e,f){var g=f.gantt.api;g.directives.on["new"](c,function(d,e,f){if("ganttRow"===d){var h=function(d){var f=d.target?d.target:d.srcElement;if(c.enabled&&f.className.indexOf("gantt-row")>-1){var h=g.core.getDateByPosition(a.getOffset(d).x),i=b(h),j=c.taskModelFactory();j.from=h,j.to=i;var k=e.row.addTask(j);k.isResizing=!0,k.updatePosAndSize(),e.row.updateVisibleTasks(),e.row.$element.scope().$digest()}};f.on("mousedown",h),e.drawTaskHandler=h}}),g.directives.on.destroy(c,function(a,b,c){"ganttRow"===a&&(c.off("mousedown",b.drawTaskHandler),delete b.drawTaskHandler)})}}}])}();
//# sourceMappingURL=angular-gantt-drawtask.min.js.map