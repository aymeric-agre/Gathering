/*! angular-gantt 15-12-2014 */
use strict;

!function(){"use strict";angular.module("gantt.bounds",["gantt","gantt.bounds.templates"]).directive("ganttBounds",["moment","$compile",function(a,b){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(c,d,e,f){var g=f.gantt.api;if(c.options&&"object"==typeof c.options.bounds)for(var h in c.options.bounds)c[h]=c.options[h];void 0===c.enabled&&(c.enabled=!0);var i=[];c.$watch("enabled",function(a){angular.forEach(i,function(b){b.enabled=a})}),g.directives.on["new"](c,function(a,d,e){if("ganttTask"===a){var f=d.$new();i.push(i),f.enabled=c.enabled,e.append(b("<gantt-task-bounds></gantt-bounds>")(f)),f.$on("$destroy",function(){var a=i.indexOf(f);a>-1&&i.splice(a,1)})}}),g.tasks.on.clean(c,function(b){void 0===b.est||a.isMoment(b.est)||(b.est=a(b.est)),void 0===b.lct||a.isMoment(b.lct)||(b.lct=a(b.lct))})}}}])}(),function(){"use strict";angular.module("gantt.bounds").directive("ganttTaskBounds",[function(){return{restrict:"E",templateUrl:function(a,b){return void 0===b.templateUrl?"plugins/bounds/taskBounds.tmpl.html":b.templateUrl},replace:!0,scope:!0,controller:["$scope","$element",function(a,b){var c={};a.$watchGroup(["task.model.est","task.model.lct","task.left","task.width"],function(){void 0!==a.task.model.est&&void 0!==a.task.model.lct?(a.bounds={},a.bounds.left=a.task.rowsManager.gantt.getPositionByDate(a.task.model.est),a.bounds.width=a.task.rowsManager.gantt.getPositionByDate(a.task.model.lct)-a.bounds.left):a.bounds=void 0}),a.task.$element.bind("mouseenter",function(){a.isTaskMouseOver=!0,a.$digest()}),a.task.$element.bind("mouseleave",function(){a.isTaskMouseOver=!1,a.$digest()}),a.getCss=function(){return void 0!==a.bounds&&(c.width=a.bounds.width+"px",c.left=a.task.isMilestone()===!0||0===a.task.width?a.bounds.left-(a.task.left-.3)+"px":a.bounds.left-a.task.left+"px"),c},a.getClass=function(){return void 0===a.task.model.est||void 0===a.task.model.lct?"gantt-task-bounds-in":a.task.model.est>a.task.model.from?"gantt-task-bounds-out":a.task.model.lct<a.task.model.to?"gantt-task-bounds-out":"gantt-task-bounds-in"},a.task.rowsManager.gantt.api.directives.raise["new"]("ganttBounds",a,b),a.$on("$destroy",function(){a.task.rowsManager.gantt.api.directives.raise.destroy("ganttBounds",a,b)})}]}}])}();
//# sourceMappingURL=angular-gantt-bounds.min.js.map