/*! angular-gantt 15-12-2014 */
use strict;

!function(){"use strict";angular.module("gantt.progress",["gantt","gantt.progress.templates"]).directive("ganttProgress",["moment","$compile",function(a,b){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(c,d,e,f){var g=f.gantt.api;if(c.options&&"object"==typeof c.options.progress)for(var h in c.options.progress)c[h]=c.options[h];void 0===c.enabled&&(c.enabled=!0);var i=[];c.$watch("enabled",function(a){angular.forEach(i,function(b){b.enabled=a})}),g.directives.on["new"](c,function(a,d,e){if("ganttTask"===a){var f=d.$new();i.push(f),f.enabled=c.enabled,e.append(b('<gantt-task-progress ng-if="task.model.progress !== undefined"></gantt-task-progress>')(f)),f.$on("$destroy",function(){var a=i.indexOf(f);a>-1&&i.splice(a,1)})}}),g.tasks.on.clean(c,function(b){void 0===b.est||a.isMoment(b.est)||(b.est=a(b.est)),void 0===b.lct||a.isMoment(b.lct)||(b.lct=a(b.lct))})}}}])}(),function(){"use strict";angular.module("gantt.progress").directive("ganttTaskProgress",[function(){return{restrict:"E",requires:"^ganttTask",templateUrl:function(a,b){return void 0===b.templateUrl?"plugins/progress/taskProgress.tmpl.html":b.templateUrl},replace:!0,scope:!0,controller:["$scope","$element",function(a,b){a.getClasses=function(){var b=[];return void 0!==a.task.model.progress&&"object"!=typeof a.task.model.progress&&(b=a.task.model.classes),b},a.getCss=function(){var b,c={};return void 0!==a.task.model.progress&&(b="object"==typeof a.task.model.progress?a.task.model.progress:{percent:a.task.model.progress}),b&&(c["background-color"]=b.color?b.color:"#6BC443",c.width=b.percent+"%"),c},a.task.rowsManager.gantt.api.directives.raise["new"]("ganttTaskProgress",a,b),a.$on("$destroy",function(){a.task.rowsManager.gantt.api.directives.raise.destroy("ganttTaskProgress",a,b)})}]}}])}();
//# sourceMappingURL=angular-gantt-progress.min.js.map